---
version: '0.0.3-alpha-1'

environment:
  defaultServices:
    - name: 'lc-test'
    - name: 'lc-test-k8s'

services:
  - name: 'lc-test'
    defaultUUID: 'good-dev-0'
    github:
      repository: 'vmelikyan/lc-test'
      branchName: 'main'
      docker:
        defaultTag: 'main'
        app:
          dockerfilePath: 'sysops/dockerfiles/app.dockerfile'
          env:
            YOLO: '{{yolo-db_internalHostname}}'
            TEST_HOST: '{{test-host_internalHostname}}'
            POS_DB: '{{pos-discounts-db_internalHostname}}'
          ports:
            - 8080
        init:
          dockerfilePath: 'sysops/dockerfiles/init.dockerfile'
      deployment:
        public: true
        capacityType: 'SPOT'
        resource:
          cpu:
            request: '10m'
          memory:
            request: '100Mi'
        readiness:
          tcpSocketPort: 8080
          httpGet:
            port: 8080
        network:
          ipWhitelist:
            - 74.62.40.50/32
            - 160.72.30.82/32
            - 160.72.30.84/32
            - 18.144.93.222/32
            - 54.69.192.237/32
            - 54.191.227.200/32
            - 52.32.70.35/32
            - 54.187.174.169/32
            - 54.187.205.235/32
            - 54.187.216.72/32
            - 54.241.31.99/32
            - 54.241.31.102/32
            - 54.241.34.107/32
            - 34.217.245.20/32
            - 35.164.147.1/32
            - 54.186.219.214/32
            - 35.161.253.4/32
            - 52.40.113.180/32
            - 52.33.33.57/32
            - 54.244.193.59/32
            - 52.40.190.83/32
            - 13.56.32.128/27
            - 44.237.180.120/32
            - 34.223.232.129/32
            - 52.43.30.134/32
            - 52.34.10.102/32
            - 44.227.58.138/32
            - 54.184.203.235/32
            - 54.148.249.23/32
            - 34.213.146.199
            - 44.238.197.152/32
            - 44.238.59.202
            - 54.203.242.149
            - 44.241.91.218
            - 52.60.189.53/32
            - 99.79.87.237/32
            - 3.18.188.104/32
            - 3.18.197.0/32
            - 3.18.172.189/32
            - 52.9.13.199/32
            - 52.9.139.134/32
            - 52.35.61.232/32
            - 34.208.32.189/32
            - 52.89.221.151/32
            - 35.82.172.188/32
            - 52.10.232.209/32
            - 54.68.233.59/32
            - 54.177.155.33/32
            - 3.18.188.104/32
            - 3.18.197.0/32
            - 3.18.172.189/32
            - 18.144.93.222/32
